
########################### Condition Handling #################################


#* There are possibilities of going wrong with R Code. And via errors, warnings, and messages they can be communicated. Fatal errors are raised by stop() 
#* and force all execution to terminate. Errors are used when there is no way for a function to continue. Warnings are generated by warning() and are used 
#* to display potential problems, such as when some elements of a vectorized input are invalid, like log(-1:2). Messages are generated by message() and are
#*  used to give informative output in a way that can easily be suppressed by the user.

#* Handling Conditions Programmatically 
#* In the R language, there are three different tools that are there for handling conditions including errors programmatically. 
#* try() gives you the ability to continue execution even when an error occurs. 
#* When we put the code inside the try block, code executes, even error occurs, and also for correct results, it will be the last result evaluated, and if a failure, 
#* it will give with “try-error”.

success <- try(100 + 200)
success
class(success)

failure <- try("100" + "200")
failure
class(failure)



#* tryCatch() specifies handler functions that control what happens when a condition is signaled.  
#* One can take different actions for warnings, messages, and interrupts. 

# Using tryCatch()
display_condition <- function(inputcode)
  {
  tryCatch(inputcode, 
    error = function(condition) {print("Unexpected error occurred")},
    warning = function(condition) {print("warning message, but still need to look into code")},
    message = function(condition) {print("friendly message, but take precautions")}
  )}

# Calling the function
display_condition(stop("!"))
display_condition(warning("?!"))
display_condition(message("?"))
display_condition(10000)


# Another example

log_calculator <- function(x){
  tryCatch(
    expr = {
      message(log(x))
      message("Successfully executed the log(x) call.")
    },
    error = function(e){
      message('Caught an error!')
      print(e)
    },
    warning = function(w){
      message('Caught an warning!')
      print(w)
    },
    finally = {
      message('All done, quitting.')
    }
  )    
}

# A valid case
log_calculator(10)

# A "warning" case
log_calculator(-10)

# An "error" case
log_calculator("log_me")

